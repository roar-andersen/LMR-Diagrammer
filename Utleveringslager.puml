@startuml

left to right direction


package Felles {
    object PasientlisteTilBehandling {
      ðŸ”‘ Guid MeldingsId
    }

    object RekvirentlisteTilBehandling {
      ðŸ”‘ Guid MeldingsId
    }

    object Utlevering {
      ðŸ”‘ int UtleveringsId
    }
    Utlevering --> Utleveringsmelding : MeldingsId

    object Utleveringsmelding {
      ðŸ”‘ Guid MeldingsId
    }

    object KodeverkKode {
      ðŸ”‘ int KodeverkKodeId      
    }

    object Klassifikasjon {
      ðŸ”‘ int KlassifikasjonId      
    }

    object Enum_Kilde {
      ðŸ”‘ byte Id
    }

    object Enum_Meldingstyper {
      ðŸ”‘ int Id
    }

    object Enum_Status {
      ðŸ”‘ int Id
    }

    object Enum_Utleveringsstatus {
      ðŸ”‘ int Id
    }

    object Enum_Utleveringstype {
      ðŸ”‘ byte Id
    }
}


package Eik {

    object "Apoteksystem" as Eik_Apoteksystem {
      ðŸ”‘ Guid ApoteksystemId
    }

    object "Kodeverk_Feltstatus" as Eik_Kodeverk_Feltstatus {
      ðŸ”‘ int Id
    }

    object "Enum_Refusjonskodetype" as Eik_Enum_Refusjonskodetype {
      ðŸ”‘ int Id
    }

    object "Enum_UtleveringTil" as Eik_Enum_UtleveringTil {
      ðŸ”‘ int Id
    }

    object "OneOf_Hjemmel" as Eik_OneOf_Hjemmel {
      ðŸ”‘ int Id
    }

    object "OneOf_Bestanddeltype" as Eik_OneOf_Bestanddeltype {
      ðŸ”‘ int Id
    }

    object "OneOf_Mengdetype" as Eik_OneOf_Mengdetype {
      ðŸ”‘ int Id
    }

    object "OneOf_RekvirertVaretype" as Eik_OneOf_RekvirertVaretype {
      ðŸ”‘ int Id
    }

    object "OneOf_Varetype" as Eik_OneOf_Varetype {
      ðŸ”‘ int Id
    }

    object "Resept" as Eik_Resept {
      ðŸ”‘ Guid ReseptId
    }
    Eik_Resept --> Eik_Resept_Kryptert : RekvirertVare_LegemiddelblandingNavnKryptertId
    ' object "RekvirertVare" as Eik_RekvirertVare
    ' Eik_Resept *-- Eik_RekvirertVare
    ' object "RekvirentFraApotek" as Eik_RekvirentFraApotek
    ' Eik_Resept *-- Eik_RekvirentFraApotek

    object "BestanddelAnnet_Kryptert" as Eik_BestanddelAnnet_Kryptert #F0C0C0 {
      ðŸ”‘ Guid KryptertId
    }

    object "Legemiddelblanding_Kryptert" as Eik_Legemiddelblanding_Kryptert #F0C0C0 {
      ðŸ”‘ Guid KryptertId
    }

    object "LegemiddelMerkevare_Kryptert" as Eik_LegemiddelMerkevare_Kryptert #F0C0C0 {
      ðŸ”‘ Guid KryptertId
    }

    object "Legemiddelpakning_Kryptert" as Eik_Legemiddelpakning_Kryptert #F0C0C0 {
      ðŸ”‘ Guid KryptertId
    }

    object "LegemiddelVirkestoff_Kryptert" as Eik_LegemiddelVirkestoff_Kryptert #F0C0C0 {
      ðŸ”‘ Guid KryptertId
    }

    object "Lokalvare_Kryptert" as Eik_Lokalvare_Kryptert #F0C0C0 {
      ðŸ”‘ Guid KryptertId
    }

    object "RekvisisjonAvventerProsessering" as Eik_RekvisisjonAvventerProsessering #F0C0C0 {
      ðŸ”‘ Guid RekvisisjonsId
    }
    Eik_RekvisisjonAvventerProsessering --> Utleveringsmelding : MeldingsId

    object "Resept_Kryptert" as Eik_Resept_Kryptert #F0C0C0 {
      ðŸ”‘ Guid KryptertId
    }

    object "UtleveringAvventerProsessering" as Eik_UtleveringAvventerProsessering #F0C0C0 {
      ðŸ”‘ Guid MeldingsId
      ðŸ”‘ int UtleveringsnummerIMelding
    }
    Eik_UtleveringAvventerProsessering --> Utleveringsmelding : MeldingsId

    object "UtleveringTil_Kryptert" as Eik_UtleveringTil_Kryptert #F0C0C0 {
      ðŸ”‘ Guid KryptertId
    }

    object "Legemiddelblanding" as Eik_Legemiddelblanding {
      ðŸ”‘ Guid LegemiddelblandingId
    }
    Eik_Legemiddelblanding --> Eik_Legemiddelblanding_Kryptert : KryptertFeltId


    object "Lokalvare" as Eik_Lokalvare {
      ðŸ”‘ Guid LokalvareId
    }
    Eik_Lokalvare --> Eik_Lokalvare_Kryptert : KryptertId

    object "UtlevertVare" as Eik_UtlevertVare {
      ðŸ”‘ Guid UtlevertVareId
    }
    Eik_UtlevertVare --> "0..1" Eik_Lokalvare : LokalvareId
    Eik_UtlevertVare --> "0..1" Eik_Legemiddelblanding : LegemiddelblandingId


    object "Rekvisisjon" as Eik_Rekvisisjon {
      ðŸ”‘ Guid RekvisisjonId
    }
    Eik_Rekvisisjon --> "0..1" Eik_Apoteksystem : ApoteksystemId

    object "InstitusjonsIdentitet" as Eik_InstitusjonsIdentitet {
      ðŸ”‘ Guid InstitusjonsIdentitetId
    }
    Eik_InstitusjonsIdentitet --> "0..1" Eik_Rekvisisjon : RekvisisjonId

    object "BestanddelAnnet" as Eik_BestanddelAnnet {
      ðŸ”‘ Guid BestanddelAnnetId
    }
    Eik_BestanddelAnnet --> Eik_Legemiddelblanding : LegemiddelblandingId
    Eik_BestanddelAnnet --> "0..1" Eik_BestanddelAnnet_Kryptert : KryptertId

    object "Kodeverk_FeltOid" as Eik_Kodeverk_FeltOid {
      ðŸ”‘ string Feltnavn
      ðŸ”‘ int OId
    }

    object "Pasient" as Eik_Pasient {
      ðŸ”‘ Guid PasientId
    }

    object "UtleveringTilMenneske" as Eik_UtleveringTilMenneske {
      ðŸ”‘ int UtleveringsId
    }
    Eik_UtleveringTilMenneske --> Utlevering : UtleveringsId
    Eik_UtleveringTilMenneske --> "0..1" Eik_Apoteksystem : ApoteksystemId
    Eik_UtleveringTilMenneske -->  Eik_UtlevertVare : UtlevertVareId
    Eik_UtleveringTilMenneske -->  "0..1" Eik_Pasient : PasientFraApotekPasientId
    Eik_UtleveringTilMenneske -->  "0..1" Eik_UtleveringTil_Kryptert : BruksveiledningKryptertId
    Eik_UtleveringTilMenneske -->  "0..1" Eik_Resept : ReseptId

    object "Refusjon" as Eik_Refusjon {
      ðŸ”‘ int UtleveringsId
    }
    Eik_Refusjon --> Eik_UtleveringTilMenneske : UtleveringsId



    object "UtleveringFraRekvisisjon" as Eik_UtleveringFraRekvisisjon {
      ðŸ”‘ int UtleveringsId
    }
    Eik_UtleveringFraRekvisisjon --> Utlevering : UtleveringsId
    Eik_UtleveringFraRekvisisjon --> Eik_Rekvisisjon : RekvisisjonId
    Eik_UtleveringFraRekvisisjon --> Eik_UtlevertVare : UtlevertVareId

    object "UtleveringTilDyr" as Eik_UtleveringTilDyr {
      ðŸ”‘ int UtleveringsId
    }
    Eik_UtleveringTilDyr --> Utlevering : UtleveringsId
    Eik_UtleveringTilDyr --> Eik_UtlevertVare : UtlevertVareId
    Eik_UtleveringTilDyr --> "0..1" Eik_Resept : ReseptId
    Eik_UtleveringTilDyr --> "0..1" Eik_UtleveringTil_Kryptert : BruksveiledningKryptertId
    Eik_UtleveringTilDyr --> "0..1" Eik_Apoteksystem : ApoteksystemId

    object "LegemiddelMerkevare" as Eik_LegemiddelMerkevare {
      ðŸ”‘ Guid LegemiddelMerkevareId
    }
    Eik_LegemiddelMerkevare --> "0..1" Eik_LegemiddelMerkevare_Kryptert : KryptertId

    object "Legemiddelpakning" as Eik_Legemiddelpakning {
      ðŸ”‘ Guid LegemiddelpakningId
    }
    Eik_Legemiddelpakning --> "0..1" Eik_Legemiddelpakning_Kryptert : KryptertId

    object "LegemiddelVirkestoff" as Eik_LegemiddelVirkestoff {
      ðŸ”‘ Guid LegemiddelVirkestoffId
    }
    Eik_LegemiddelVirkestoff --> "0..1" Eik_LegemiddelVirkestoff_Kryptert : KryptertId

    object "BestanddelLegemiddel" as Eik_BestanddelLegemiddel {
      ðŸ”‘ Guid BestanddelLegemiddelId
    }
    Eik_BestanddelLegemiddel --> Eik_Legemiddelblanding : LegemiddelblandingId
    Eik_BestanddelLegemiddel --> "0..1" Eik_LegemiddelMerkevare : LegemiddelMerkevareId
    Eik_BestanddelLegemiddel --> "0..1" Eik_Legemiddelpakning : LegemiddelpakningId
    Eik_BestanddelLegemiddel --> "0..1" Eik_LegemiddelVirkestoff : LegemiddelVirkestoffId
    


    object "BestanddelVirkestoff" as Eik_BestanddelVirkestoff {
      ðŸ”‘ Guid BestanddelVirkestoffId
    }
    Eik_BestanddelVirkestoff --> Eik_Legemiddelblanding : LegemiddelblandingId
}

package FarmaPro {
    object FeltstatusWrapper {
      ðŸ”‘ int Id
    }

    object Hendelse {
      ðŸ”‘ Guid HendelseId
    }

    object Institusjon {
      ðŸ”‘ Guid RekvisisjonsId
    }

    object Rekvisisjon {
      ðŸ”‘ Guid RekvisisjonsId
    }
    Rekvisisjon --> Institusjon : Kunde_InstitusjonRekvisisjonsId
    Rekvisisjon --> Utleveringsmelding : MeldingsId

    object RekvisisjonTilBehandling {
      ðŸ”‘ Guid RekvisisjonsId
    }
    RekvisisjonTilBehandling --> Utleveringsmelding : MeldingsId

    object RekvisisjonUtleveringTilBehandling {
      ðŸ”‘ Guid MeldingsId
      ðŸ”‘ int UtleveringsnummerIMelding
    }
    RekvisisjonUtleveringTilBehandling --> Utleveringsmelding : MeldingsId

    object UtleveringBasertPÃ¥Rekvisisjon {
      ðŸ”‘ int UtleveringsId      
    }
    UtleveringBasertPÃ¥Rekvisisjon --> Utlevering : UtleveringsId

    object Bruksveiledning  #F0C0C0 {
      ðŸ”‘ int BruksveiledningId
    }

    object KundenavnFraApotek  #F0C0C0 {
      ðŸ”‘ Guid RekvisisjonsId
    }
    KundenavnFraApotek --> Institusjon : RekvisisjonsId

    object ReseptUtleveringTilBehandling  #F0C0C0 {
      ðŸ”‘ Guid MeldingsId
      ðŸ”‘ int UtleveringsnummerIMelding
    }
    ReseptUtleveringTilBehandling --> Utleveringsmelding : MeldingsId

    object UtleveringTilDyr {
      ðŸ”‘ int UtleveringsId
    }
    UtleveringTilDyr --> Utlevering : UtleveringsId
    UtleveringTilDyr --> Bruksveiledning : BruksveiledningId

    object UtleveringTilMenneske {
      ðŸ”‘ int UtleveringsId      
    }
    UtleveringTilMenneske --> Utlevering : UtleveringsId
    UtleveringTilMenneske --> Bruksveiledning : BruksveiledningId

    object Refusjon {
      ðŸ”‘ int UtleveringsId
    }
    Refusjon --> UtleveringTilMenneske : UtleveringsId

    ' owned types:
    ' object UtleveringslagerFarmaproHendelse
    ' Hendelse *-- UtleveringslagerFarmaproHendelse
    ' object RekvirentFraApotek
    ' Rekvisisjon *-- RekvirentFraApotek
    ' object Kunde
    ' Rekvisisjon *-- Kunde
    ' object UtlevertVare
    ' UtleveringBasertPÃ¥Rekvisisjon *-- UtlevertVare
    ' object RekvirertVare
    ' Resept *-- RekvirertVare
    ' object RekvirentFraApotek
    ' Resept *-- RekvirentFraApotek
    ' object UtlevertVare
    ' UtleveringTilDyr *-- UtlevertVare
    ' object Resept
    ' UtleveringTilDyr *-- Resept
    ' object Dyreart
    ' UtleveringTilDyr *-- Dyreart
    ' UtleveringTilMenneske *-- UtlevertVare
    ' UtleveringTilMenneske *-- PasientFraApotek
    ' UtleveringTilMenneske *-- Resept    
}




@enduml